<!--TODO, handle willDisplayTooltipOnMouseOver logic-->
<div class="page">
    <app-grid
        *ngFor="let algo of (pathfindingAlgosService.stream$ | async)!"
        [weightGrid]="(weightGridService.stream$ | async)!" 
        [barrierGrid]="(barrierGridService.stream$ | async)!" 
        [startPos]="(startPosService.stream$ | async)!" 
        [goalPos]="(goalPosService.stream$ | async)!" 
        [typeOfDataDisplayedOnTile]="(domUpdatesService.setTypeOfDataDisplayedOnTile$ | async)!" 
        [willDisplayTooltipOnMouseOver]="false" 
        [animationFrame]="(currentAnimationFrameForMultipleAlgosService.stream$ | async)?.get(algo)!" 
        [heuristicDistFromGoalGrid]="(heuristicDistGridService.stream$ | async)!"
        [gridDimensions]="(gridDimensionsService.stream$ | async)!"
        [isLoadingFromGridDimensionsChange]="(isLoadingFromGridDimensionsChange$ | async)!"
        (activate)="domUpdatesService.activateTile$.next($event)"
        (drag)="domUpdatesService.drag$.next($event)" 
        (drop)="domUpdatesService.drop$.next($event)" 
    >
    </app-grid>

    <button (click)="domUpdatesService.setAnimationRunning$.next(true)">Run</button>
    <button (click)="domUpdatesService.newPathfindingAlgosAction$.next({ kind: 'Add' })">Add</button>
    <button (click)="domUpdatesService.newPathfindingAlgosAction$.next({ kind: 'Reset' })">Reset</button>
    <button (click)="domUpdatesService.clearBarrierAndWeightGrids$.next()">Clear</button>
</div>
